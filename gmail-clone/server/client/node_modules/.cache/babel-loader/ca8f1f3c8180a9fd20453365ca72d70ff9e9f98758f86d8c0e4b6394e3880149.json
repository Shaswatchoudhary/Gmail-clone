{"ast":null,"code":"import{useState}from'react';import{Dialog,styled,Typography,Box,InputBase,TextField,Button}from'@mui/material';import{Close,DeleteOutline}from'@mui/icons-material';import useApi from'../hooks/useApi';import{API_URLS}from'../services/api.urls';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const dialogStyle={height:'90%',width:'80%',maxWidth:'100%',maxHeight:'100%',boxShadow:'none',borderRadius:'10px 10px 0 0'};const Header=styled(Box)`\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 15px;\n    background: #f2f6fc;\n    & > p {\n        font-size: 14px;\n        font-weight: 500;\n    }\n`;const RecipientWrapper=styled(Box)`\n    display: flex;\n    flex-direction: column;\n    padding: 0 15px;\n    & > div {\n        font-size: 14px;\n        border-bottom: 1px solid #F5F5F5;\n        margin-top: 10px;\n    }\n`;const Footer=styled(Box)`\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 15px;\n    align-items: center;\n`;const SendButton=styled(Button)`\n    background: #0B57D0;\n    color: #fff;\n    font-weight: 500;\n    text-transform: none;\n    border-radius: 18px;\n    width: 100px;\n`;const ComposeMail=_ref=>{let{open,setOpenDrawer}=_ref;const[data,setData]=useState({});const sentEmailService=useApi(API_URLS.saveSentEmails);const saveDraftService=useApi(API_URLS.saveDraftEmails);const config={Username:process.env.REACT_APP_USERNAME,Password:process.env.REACT_APP_PASSWORD,Host:'smtp.elasticemail.com',Port:2525};const onValueChange=e=>{setData({...data,[e.target.name]:e.target.value});};const sendEmail=async e=>{e.preventDefault();if(window.Email){window.Email.send({...config,To:data.to,From:\"codeforinterview03@gmail.com\",Subject:data.subject,Body:data.body}).then(message=>alert(message));}const payload={to:data.to,from:\"codeforinterview03@gmail.com\",subject:data.subject,body:data.body,date:new Date(),image:'',name:'Code for Interview',starred:false,type:'sent'};sentEmailService.call(payload);if(!sentEmailService.error){setOpenDrawer(false);setData({});}else{}};const closeComposeMail=e=>{e.preventDefault();const payload={to:data.to,from:\"codeforinterview03@gmail.com\",subject:data.subject,body:data.body,date:new Date(),image:'',name:'Code for Interview',starred:false,type:'drafts'};saveDraftService.call(payload);if(!saveDraftService.error){setOpenDrawer(false);setData({});}else{}};return/*#__PURE__*/_jsxs(Dialog,{open:open,PaperProps:{sx:dialogStyle},children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Typography,{children:\"New Message\"}),/*#__PURE__*/_jsx(Close,{fontSize:\"small\",onClick:e=>closeComposeMail(e)})]}),/*#__PURE__*/_jsxs(RecipientWrapper,{children:[/*#__PURE__*/_jsx(InputBase,{placeholder:\"Recipients\",name:\"to\",onChange:e=>onValueChange(e),value:data.to}),/*#__PURE__*/_jsx(InputBase,{placeholder:\"Subject\",name:\"subject\",onChange:e=>onValueChange(e),value:data.subject})]}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:20,sx:{'& .MuiOutlinedInput-notchedOutline':{border:'none'}},name:\"body\",onChange:e=>onValueChange(e),value:data.body}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(SendButton,{onClick:e=>sendEmail(e),children:\"Send\"}),/*#__PURE__*/_jsx(DeleteOutline,{onClick:()=>setOpenDrawer(false)})]})]});};export default ComposeMail;","map":{"version":3,"names":["useState","Dialog","styled","Typography","Box","InputBase","TextField","Button","Close","DeleteOutline","useApi","API_URLS","jsx","_jsx","jsxs","_jsxs","dialogStyle","height","width","maxWidth","maxHeight","boxShadow","borderRadius","Header","RecipientWrapper","Footer","SendButton","ComposeMail","_ref","open","setOpenDrawer","data","setData","sentEmailService","saveSentEmails","saveDraftService","saveDraftEmails","config","Username","process","env","REACT_APP_USERNAME","Password","REACT_APP_PASSWORD","Host","Port","onValueChange","e","target","name","value","sendEmail","preventDefault","window","Email","send","To","to","From","Subject","subject","Body","body","then","message","alert","payload","from","date","Date","image","starred","type","call","error","closeComposeMail","PaperProps","sx","children","fontSize","onClick","placeholder","onChange","multiline","rows","border"],"sources":["/Users/shaswat/Documents/code/MERN-Stack-Projects/gmail-clone/server/client/src/components/ComposeMail.jsx"],"sourcesContent":["import { useState } from 'react';\n\nimport { Dialog, styled, Typography, Box, InputBase, TextField, Button } from '@mui/material'; \nimport { Close, DeleteOutline } from '@mui/icons-material';\nimport useApi from '../hooks/useApi';\nimport { API_URLS } from '../services/api.urls';\n\nconst dialogStyle = {\n    height: '90%',\n    width: '80%',\n    maxWidth: '100%',\n    maxHeight: '100%',\n    boxShadow: 'none',\n    borderRadius: '10px 10px 0 0',\n}\n\nconst Header = styled(Box)`\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 15px;\n    background: #f2f6fc;\n    & > p {\n        font-size: 14px;\n        font-weight: 500;\n    }\n`;\n\nconst RecipientWrapper = styled(Box)`\n    display: flex;\n    flex-direction: column;\n    padding: 0 15px;\n    & > div {\n        font-size: 14px;\n        border-bottom: 1px solid #F5F5F5;\n        margin-top: 10px;\n    }\n`;\n\nconst Footer = styled(Box)`\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 15px;\n    align-items: center;\n`;\n\nconst SendButton = styled(Button)`\n    background: #0B57D0;\n    color: #fff;\n    font-weight: 500;\n    text-transform: none;\n    border-radius: 18px;\n    width: 100px;\n`\n\nconst ComposeMail = ({ open, setOpenDrawer }) => {\n    const [data, setData] = useState({});\n    const sentEmailService = useApi(API_URLS.saveSentEmails);\n    const saveDraftService = useApi(API_URLS.saveDraftEmails);\n\n    const config = {\n        Username: process.env.REACT_APP_USERNAME,\n        Password: process.env.REACT_APP_PASSWORD,\n        Host: 'smtp.elasticemail.com',\n        Port: 2525,\n    }\n\n    const onValueChange = (e) => {\n        setData({ ...data, [e.target.name]: e.target.value })\n    }\n\n    const sendEmail = async (e) => {\n        e.preventDefault();\n\n        if (window.Email) {\n            window.Email.send({\n                ...config,\n                To : data.to,\n                From : \"codeforinterview03@gmail.com\",\n                Subject : data.subject,\n                Body : data.body\n            }).then(\n                message => alert(message)\n            );\n        }\n\n        const payload = {\n            to : data.to,\n            from : \"codeforinterview03@gmail.com\",\n            subject : data.subject,\n            body : data.body,\n            date: new Date(),\n            image: '',\n            name: 'Code for Interview',\n            starred: false,\n            type: 'sent'\n        }\n\n        sentEmailService.call(payload);\n\n        if (!sentEmailService.error) {\n            setOpenDrawer(false);\n            setData({});\n        } else {\n\n        }\n    }\n\n    const closeComposeMail = (e) => {\n        e.preventDefault();\n\n        const payload = {\n            to : data.to,\n            from : \"codeforinterview03@gmail.com\",\n            subject : data.subject,\n            body : data.body,\n            date: new Date(),\n            image: '',\n            name: 'Code for Interview',\n            starred: false,\n            type: 'drafts'\n        }\n\n        saveDraftService.call(payload);\n\n        if (!saveDraftService.error) {\n            setOpenDrawer(false);\n            setData({});\n        } else {\n\n        }\n    }\n\n    return (\n        <Dialog\n            open={open}\n            PaperProps={{ sx: dialogStyle }}\n        >\n            <Header>\n                <Typography>New Message</Typography>\n                <Close fontSize=\"small\" onClick={(e) => closeComposeMail(e)} />\n            </Header>\n            <RecipientWrapper>\n                <InputBase placeholder='Recipients' name=\"to\" onChange={(e) => onValueChange(e)} value={data.to} />\n                <InputBase placeholder='Subject' name=\"subject\" onChange={(e) => onValueChange(e)} value={data.subject} />\n            </RecipientWrapper>\n            <TextField \n                multiline\n                rows={20}\n                sx={{ '& .MuiOutlinedInput-notchedOutline': { border: 'none' } }}\n                name=\"body\"\n                onChange={(e) => onValueChange(e)}\n                value={data.body}\n            />\n            <Footer>\n                <SendButton onClick={(e) => sendEmail(e)}>Send</SendButton>\n                <DeleteOutline onClick={() => setOpenDrawer(false)} />\n            </Footer>\n        </Dialog>\n    )\n}\n\nexport default ComposeMail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}